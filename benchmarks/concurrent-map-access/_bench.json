{
  "Name": "Concurrent Map Access",
  "Headline": "A benchmark to compare the performance of different concurrent map access implementations in Go.",
  "Description": "The classic map access is done by using the `map[key]` syntax. This implementation works fine in the most cases, but it is not thread-safe. A solution is to use the `sync.Map` type or to add a mutex to the map. This benchmark shows which implementation is the fastest.\n",
  "System": {
    "GoOS": "linux",
    "GoArch": "amd64",
    "Pkg": "benchmarks/concurrent-map-access",
    "CPU": "AMD Ryzen 9 9950X3D 16-Core Processor"
  },
  "Benchmarks": [
    {
      "Name": "Mutex",
      "Description": "This benchmark uses a `sync.Mutex` to lock the map, before accessing it. This makes sure, that only one goroutine can access the map at the same time. For this implementation, you need to write own wrappers, to lock and unlock the map on each access.\n",
      "BenchmarkCode": "func BenchmarkMutex_run(b *testing.B) {\n\tvar m = make(map[int]int)\n\tvar mutex sync.Mutex\n\tvar wg sync.WaitGroup\n\n\tb.ResetTimer()\n\n\tfor i := 0; i \u003c b.N; i++ {\n\t\twg.Add(2)\n\n\t\tgo func() {\n\t\t\tmutex.Lock()\n\t\t\tm[i] = i\n\t\t\tmutex.Unlock()\n\t\t\twg.Done()\n\t\t}()\n\n\t\tgo func() {\n\t\t\tmutex.Lock()\n\t\t\t_ = m[i]\n\t\t\tmutex.Unlock()\n\t\t\twg.Done()\n\t\t}()\n\n\t\twg.Wait()\n\t}\n}",
      "Code": "",
      "Variations": [
        {
          "N": 1000,
          "NsPerOp": 392.95,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 0,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2544853.034737244
        },
        {
          "N": 2000,
          "NsPerOp": 399.35,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 12,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2504069.1123074996
        },
        {
          "N": 3000,
          "NsPerOp": 383.35,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 24,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2608582.235554976
        },
        {
          "N": 4000,
          "NsPerOp": 407.54999999999995,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 36,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2453686.6642129803
        },
        {
          "N": 5000,
          "NsPerOp": 391.15,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 48,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2556563.97801355
        },
        {
          "N": 6000,
          "NsPerOp": 389.7,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 60,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2566076.4690787788
        },
        {
          "N": 7000,
          "NsPerOp": 384.3,
          "AllocedBytesPerOp": 148,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 72,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2602133.7496747333
        },
        {
          "N": 8000,
          "NsPerOp": 399.85,
          "AllocedBytesPerOp": 169,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 84,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2500937.851694385
        },
        {
          "N": 9000,
          "NsPerOp": 391.1,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 96,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2556890.8207619535
        },
        {
          "N": 10000,
          "NsPerOp": 388.15,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 108,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2576323.5862424322
        },
        {
          "N": 1000,
          "NsPerOp": 570.6500000000001,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 1,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1752387.628143345
        },
        {
          "N": 2000,
          "NsPerOp": 497.7,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 13,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 2009242.5155716296
        },
        {
          "N": 3000,
          "NsPerOp": 514.75,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 25,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1942690.626517727
        },
        {
          "N": 4000,
          "NsPerOp": 526.6,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 37,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1898974.5537409799
        },
        {
          "N": 5000,
          "NsPerOp": 514,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 49,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1945525.2918287937
        },
        {
          "N": 6000,
          "NsPerOp": 522.8499999999999,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 61,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1912594.4343501963
        },
        {
          "N": 7000,
          "NsPerOp": 526.2,
          "AllocedBytesPerOp": 148,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 73,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1900418.0919802354
        },
        {
          "N": 8000,
          "NsPerOp": 546.8,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 85,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1828822.23847842
        },
        {
          "N": 9000,
          "NsPerOp": 517.8,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 97,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1931247.5859405177
        },
        {
          "N": 10000,
          "NsPerOp": 518.45,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 109,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1928826.3091908572
        },
        {
          "N": 1000,
          "NsPerOp": 700.95,
          "AllocedBytesPerOp": 171,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 2,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1426635.2806904914
        },
        {
          "N": 2000,
          "NsPerOp": 664.7,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 14,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1504438.0923724987
        },
        {
          "N": 3000,
          "NsPerOp": 587,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 26,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1703577.5127768314
        },
        {
          "N": 4000,
          "NsPerOp": 612.9,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 38,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1631587.5346712351
        },
        {
          "N": 5000,
          "NsPerOp": 597.8499999999999,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 50,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1672660.3663126205
        },
        {
          "N": 6000,
          "NsPerOp": 626.5,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 62,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1596169.193934557
        },
        {
          "N": 7000,
          "NsPerOp": 613.4000000000001,
          "AllocedBytesPerOp": 143,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 74,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1630257.58069775
        },
        {
          "N": 8000,
          "NsPerOp": 626.6,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 86,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1595914.4589849983
        },
        {
          "N": 9000,
          "NsPerOp": 614.5999999999999,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 98,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1627074.5200130169
        },
        {
          "N": 10000,
          "NsPerOp": 596.05,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 110,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1677711.6013757237
        },
        {
          "N": 1000,
          "NsPerOp": 597.1,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 3,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1674761.3465081225
        },
        {
          "N": 2000,
          "NsPerOp": 662.9000000000001,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 15,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1508523.1558304417
        },
        {
          "N": 3000,
          "NsPerOp": 607,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 27,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1647446.4579901153
        },
        {
          "N": 4000,
          "NsPerOp": 652.05,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 39,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1533624.7220305193
        },
        {
          "N": 5000,
          "NsPerOp": 622.7,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 51,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1605909.7478721694
        },
        {
          "N": 6000,
          "NsPerOp": 618.95,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 63,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1615639.3892883107
        },
        {
          "N": 7000,
          "NsPerOp": 617.6,
          "AllocedBytesPerOp": 148,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 75,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1619170.9844559585
        },
        {
          "N": 8000,
          "NsPerOp": 653.95,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 87,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1529168.896704641
        },
        {
          "N": 9000,
          "NsPerOp": 583.95,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 99,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1712475.383166367
        },
        {
          "N": 10000,
          "NsPerOp": 605.8499999999999,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 111,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1650573.5743170755
        },
        {
          "N": 1000,
          "NsPerOp": 662.2,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 4,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1510117.7891875566
        },
        {
          "N": 2000,
          "NsPerOp": 659.75,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 16,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1515725.653656688
        },
        {
          "N": 3000,
          "NsPerOp": 654.05,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 28,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1528935.096705145
        },
        {
          "N": 4000,
          "NsPerOp": 633.1500000000001,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 40,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1579404.564479191
        },
        {
          "N": 5000,
          "NsPerOp": 627.55,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 52,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1593498.5260138635
        },
        {
          "N": 6000,
          "NsPerOp": 647.8499999999999,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 64,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1543567.1837616735
        },
        {
          "N": 7000,
          "NsPerOp": 612.45,
          "AllocedBytesPerOp": 148,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 76,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1632786.3499061146
        },
        {
          "N": 8000,
          "NsPerOp": 598.3,
          "AllocedBytesPerOp": 169,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 88,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1671402.3065351832
        },
        {
          "N": 9000,
          "NsPerOp": 608.05,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 100,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1644601.5952635475
        },
        {
          "N": 10000,
          "NsPerOp": 616.8,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 112,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1621271.076523995
        },
        {
          "N": 1000,
          "NsPerOp": 691.85,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 5,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1445400.0144540002
        },
        {
          "N": 2000,
          "NsPerOp": 771.4,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 17,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1296344.3090484834
        },
        {
          "N": 3000,
          "NsPerOp": 597.95,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 29,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1672380.63383226
        },
        {
          "N": 4000,
          "NsPerOp": 717,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 41,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1394700.139470014
        },
        {
          "N": 5000,
          "NsPerOp": 657.9,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 53,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1519987.8400972793
        },
        {
          "N": 6000,
          "NsPerOp": 636.25,
          "AllocedBytesPerOp": 145,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 65,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1571709.2337917485
        },
        {
          "N": 7000,
          "NsPerOp": 660,
          "AllocedBytesPerOp": 148,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 77,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1515151.5151515151
        },
        {
          "N": 8000,
          "NsPerOp": 645.8,
          "AllocedBytesPerOp": 170,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 89,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1548467.0176525242
        },
        {
          "N": 9000,
          "NsPerOp": 640.6,
          "AllocedBytesPerOp": 161,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 101,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1561036.5282547611
        },
        {
          "N": 10000,
          "NsPerOp": 587,
          "AllocedBytesPerOp": 155,
          "AllocsPerOp": 2,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 113,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1703577.5127768314
        }
      ]
    },
    {
      "Name": "Sync",
      "Description": "This benchmark uses the `sync.Map` type. This type is thread-safe, so you don't need to write own wrappers to lock and unlock the map on each access.",
      "BenchmarkCode": "func BenchmarkSync_run(b *testing.B) {\n\tvar m sync.Map\n\tvar wg sync.WaitGroup\n\n\tb.ResetTimer()\n\n\tfor i := 0; i \u003c b.N; i++ {\n\t\twg.Add(2)\n\n\t\tgo func() {\n\t\t\tm.Store(i, i)\n\t\t\twg.Done()\n\t\t}()\n\n\t\tgo func() {\n\t\t\tm.Load(i)\n\t\t\twg.Done()\n\t\t}()\n\n\t\twg.Wait()\n\t}\n}",
      "Code": "",
      "Variations": [
        {
          "N": 1000,
          "NsPerOp": 551.4000000000001,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 7,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1813565.4697134565
        },
        {
          "N": 2000,
          "NsPerOp": 530.05,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 19,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1886614.4703329876
        },
        {
          "N": 3000,
          "NsPerOp": 551.2,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 31,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1814223.5123367198
        },
        {
          "N": 4000,
          "NsPerOp": 533,
          "AllocedBytesPerOp": 184,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 43,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1876172.607879925
        },
        {
          "N": 5000,
          "NsPerOp": 559.5,
          "AllocedBytesPerOp": 187,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 55,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1787310.0983020554
        },
        {
          "N": 6000,
          "NsPerOp": 523.25,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 67,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 1911132.3459149546
        },
        {
          "N": 7000,
          "NsPerOp": 499.20000000000005,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 79,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 2003205.128205128
        },
        {
          "N": 8000,
          "NsPerOp": 486.35,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 91,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 2056132.4149275213
        },
        {
          "N": 9000,
          "NsPerOp": 489.75,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 103,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 2041858.090862685
        },
        {
          "N": 10000,
          "NsPerOp": 481,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 115,
          "Name": "run",
          "CPUCount": 2,
          "OpsPerSec": 2079002.079002079
        },
        {
          "N": 1000,
          "NsPerOp": 661,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 8,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1512859.30408472
        },
        {
          "N": 2000,
          "NsPerOp": 661.3,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 20,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1512172.9925903524
        },
        {
          "N": 3000,
          "NsPerOp": 630.3,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 32,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1586546.0891638903
        },
        {
          "N": 4000,
          "NsPerOp": 647,
          "AllocedBytesPerOp": 184,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 44,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1545595.0540958268
        },
        {
          "N": 5000,
          "NsPerOp": 661.65,
          "AllocedBytesPerOp": 187,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 56,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1511373.0824454017
        },
        {
          "N": 6000,
          "NsPerOp": 643.65,
          "AllocedBytesPerOp": 188,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 68,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1553639.4002951914
        },
        {
          "N": 7000,
          "NsPerOp": 597.25,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 80,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1674340.728338217
        },
        {
          "N": 8000,
          "NsPerOp": 603.3,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 92,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1657550.140891762
        },
        {
          "N": 9000,
          "NsPerOp": 605.2,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 104,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1652346.3317911434
        },
        {
          "N": 10000,
          "NsPerOp": 583.3,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 116,
          "Name": "run",
          "CPUCount": 4,
          "OpsPerSec": 1714383.6790673754
        },
        {
          "N": 1000,
          "NsPerOp": 781.1500000000001,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 11,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1280163.8609742045
        },
        {
          "N": 2000,
          "NsPerOp": 730.7,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 23,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1368550.7048036128
        },
        {
          "N": 3000,
          "NsPerOp": 724.9,
          "AllocedBytesPerOp": 182,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 35,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1379500.6207752794
        },
        {
          "N": 4000,
          "NsPerOp": 642.4,
          "AllocedBytesPerOp": 184,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 47,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1556662.5155666252
        },
        {
          "N": 5000,
          "NsPerOp": 726.85,
          "AllocedBytesPerOp": 186,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 59,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1375799.6835660727
        },
        {
          "N": 6000,
          "NsPerOp": 728.65,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 71,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1372401.0155767517
        },
        {
          "N": 7000,
          "NsPerOp": 680.4,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 83,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1469723.6919459142
        },
        {
          "N": 8000,
          "NsPerOp": 707.3,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 95,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1413827.230312456
        },
        {
          "N": 9000,
          "NsPerOp": 749.4,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 107,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1334400.8540165466
        },
        {
          "N": 10000,
          "NsPerOp": 717.4,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 119,
          "Name": "run",
          "CPUCount": 32,
          "OpsPerSec": 1393922.4979091163
        },
        {
          "N": 1000,
          "NsPerOp": 469.04999999999995,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 6,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2131968.8732544505
        },
        {
          "N": 2000,
          "NsPerOp": 453.70000000000005,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 18,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2204099.6253030635
        },
        {
          "N": 3000,
          "NsPerOp": 461.8,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 30,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2165439.5842355997
        },
        {
          "N": 4000,
          "NsPerOp": 459.65,
          "AllocedBytesPerOp": 184,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 42,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2175568.3672359404
        },
        {
          "N": 5000,
          "NsPerOp": 465.05,
          "AllocedBytesPerOp": 187,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 54,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2150306.41866466
        },
        {
          "N": 6000,
          "NsPerOp": 472.6,
          "AllocedBytesPerOp": 188,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 66,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2115954.2953872196
        },
        {
          "N": 7000,
          "NsPerOp": 441.45000000000005,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 78,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2265262.2041001245
        },
        {
          "N": 8000,
          "NsPerOp": 438,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 90,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2283105.02283105
        },
        {
          "N": 9000,
          "NsPerOp": 437.29999999999995,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 102,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2286759.66155957
        },
        {
          "N": 10000,
          "NsPerOp": 404,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 114,
          "Name": "run",
          "CPUCount": 1,
          "OpsPerSec": 2475247.5247524753
        },
        {
          "N": 1000,
          "NsPerOp": 780,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 9,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1282051.282051282
        },
        {
          "N": 2000,
          "NsPerOp": 667.85,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 21,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1497342.2175638243
        },
        {
          "N": 3000,
          "NsPerOp": 657.75,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 33,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1520334.4735841886
        },
        {
          "N": 4000,
          "NsPerOp": 639.55,
          "AllocedBytesPerOp": 185,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 45,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1563599.405832226
        },
        {
          "N": 5000,
          "NsPerOp": 653.2,
          "AllocedBytesPerOp": 187,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 57,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1530924.6785058174
        },
        {
          "N": 6000,
          "NsPerOp": 676.1,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 69,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1479071.1433219938
        },
        {
          "N": 7000,
          "NsPerOp": 633.05,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 81,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1579654.0557617883
        },
        {
          "N": 8000,
          "NsPerOp": 603.8,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 93,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1656177.5422325274
        },
        {
          "N": 9000,
          "NsPerOp": 597.1,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 105,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1674761.3465081225
        },
        {
          "N": 10000,
          "NsPerOp": 659.25,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 117,
          "Name": "run",
          "CPUCount": 8,
          "OpsPerSec": 1516875.2370117558
        },
        {
          "N": 1000,
          "NsPerOp": 757.5,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 4,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 10,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1320132.01320132
        },
        {
          "N": 2000,
          "NsPerOp": 649.75,
          "AllocedBytesPerOp": 178,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 22,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1539053.4821085033
        },
        {
          "N": 3000,
          "NsPerOp": 616.3499999999999,
          "AllocedBytesPerOp": 181,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 34,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1622454.774073173
        },
        {
          "N": 4000,
          "NsPerOp": 661.4000000000001,
          "AllocedBytesPerOp": 184,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 46,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1511944.3604475353
        },
        {
          "N": 5000,
          "NsPerOp": 686.9000000000001,
          "AllocedBytesPerOp": 187,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 58,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1455815.9848595136
        },
        {
          "N": 6000,
          "NsPerOp": 679.2,
          "AllocedBytesPerOp": 188,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 70,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1472320.3769140164
        },
        {
          "N": 7000,
          "NsPerOp": 636.55,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 82,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1570968.5020815334
        },
        {
          "N": 8000,
          "NsPerOp": 662.55,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 94,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1509320.0513168818
        },
        {
          "N": 9000,
          "NsPerOp": 661.75,
          "AllocedBytesPerOp": 190,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 106,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1511144.692104269
        },
        {
          "N": 10000,
          "NsPerOp": 700.05,
          "AllocedBytesPerOp": 189,
          "AllocsPerOp": 5,
          "MBPerS": 0,
          "Measured": 13,
          "Ord": 118,
          "Name": "run",
          "CPUCount": 16,
          "OpsPerSec": 1428469.3950432113
        }
      ]
    }
  ],
  "Code": "func BenchmarkMutex_run(b *testing.B) {\n\tvar m = make(map[int]int)\n\tvar mutex sync.Mutex\n\tvar wg sync.WaitGroup\n\n\tb.ResetTimer()\n\n\tfor i := 0; i \u003c b.N; i++ {\n\t\twg.Add(2)\n\n\t\tgo func() {\n\t\t\tmutex.Lock()\n\t\t\tm[i] = i\n\t\t\tmutex.Unlock()\n\t\t\twg.Done()\n\t\t}()\n\n\t\tgo func() {\n\t\t\tmutex.Lock()\n\t\t\t_ = m[i]\n\t\t\tmutex.Unlock()\n\t\t\twg.Done()\n\t\t}()\n\n\t\twg.Wait()\n\t}\n}\n\nfunc BenchmarkSync_run(b *testing.B) {\n\tvar m sync.Map\n\tvar wg sync.WaitGroup\n\n\tb.ResetTimer()\n\n\tfor i := 0; i \u003c b.N; i++ {\n\t\twg.Add(2)\n\n\t\tgo func() {\n\t\t\tm.Store(i, i)\n\t\t\twg.Done()\n\t\t}()\n\n\t\tgo func() {\n\t\t\tm.Load(i)\n\t\t\twg.Done()\n\t\t}()\n\n\t\twg.Wait()\n\t}\n}",
  "Constants": ""
}